---
title: 聚合
date: 2021-05-14 20:07:30
permalink: /pages/015074/
categories:
  - 框架和软件
  - 数据库
  - MongoDB权威指南
tags:
  - 
---
## 旧版内容

### COUNT

count可以返回集合中文档数量

```shell
db.test.find({}).count()
2
```

### distinct

distinct用来找出给定键的所有不同的值。使用时必须指定集合和键，这里我们返回了所有的名字

```shell
db.runCommand({"distinct":"test","key":"name"})
/* 1 */
{
    "values" : [ 
        "小游", 
        "张三"
    ],
    "ok" : 1.0
}
```

### group

group做的聚合稍复杂一些。先选定分组所依据的键,而后 MongoDB就会将集合依据选定键值的不同分成若干组。然后可以通过聚合每一组内的文档,产生一个结果。文档如果你熟悉SQL,那么这个 group和SQL中的 GROUP BY差不多

聚合框架





