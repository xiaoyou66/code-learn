(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{453:function(s,t,n){"use strict";n.r(t);var a=n(21),o=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[n("strong",[s._v("微服务与微服务架构区别")])]),s._v(" "),n("p",[s._v("微服务架构是一种设计方法，微服务是使用这个方法而设计的一个应用。")]),s._v(" "),n("p",[s._v("微服务框架是将复杂的系统使用组件化的方式进行拆分,并使用轻量级通讯方式进行整合的一种设计方法")]),s._v(" "),n("p",[s._v("我们使用micro作为我们的架构")]),s._v(" "),n("p",[n("strong",[s._v("微服务架构的缺点")])]),s._v(" "),n("ul",[n("li",[s._v("复杂性逐渐变高")]),s._v(" "),n("li",[s._v("技术债务逐渐上升")]),s._v(" "),n("li",[s._v("维护成本大")]),s._v(" "),n("li",[s._v("持续交付周期长")]),s._v(" "),n("li",[s._v("可扩展性差")])]),s._v(" "),n("h2",{attrs:{id:"微服务的几个重要组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#微服务的几个重要组件"}},[s._v("#")]),s._v(" 微服务的几个重要组件")]),s._v(" "),n("p",[s._v("跨语言和跨平台的通信格式 protobuf")]),s._v(" "),n("p",[s._v("通信协议 gRPC")]),s._v(" "),n("p",[s._v("调度管理服务发现 consul")]),s._v(" "),n("p",[s._v("微服务框架 micro")]),s._v(" "),n("p",[s._v("部署 docker")]),s._v(" "),n("h3",{attrs:{id:"protobuf格式介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#protobuf格式介绍"}},[s._v("#")]),s._v(" protobuf格式介绍")]),s._v(" "),n("p",[s._v("protobuf是 google旗下的一款平台无关,语言无关,可扩展的序列化结构数据格式。所以很适合用做数据存储和作\n为不同应用,不同语言之间相互通信的数据交换格式,只要实现相同的协议格式即同一prot件被编译成不同的\n语言版本,加入到各自的工程中去。这样不同语言就可以解析其他语言通过 protobu序列化的数据。目前官网提\n供了C++、Python、JAVA、GO等语言的支持。 google在2008年7月7号将其作为开源项目对外公布。")]),s._v(" "),n("h4",{attrs:{id:"数据交互xml、json、-protobu格式比较"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据交互xml、json、-protobu格式比较"}},[s._v("#")]),s._v(" 数据交互xml、json、 protobu格式比较")]),s._v(" "),n("p",[s._v("1、json:-般的web项目中,最流行的主要还是json。因为浏览器对于json数据支持非常好,有很多内建的函数支\n持\n2、xm:在 webservice中应用最为广泛,但是相比于json,它的数据更加冗余,因为需要成对的闭合标签Njso\n用了键值对的方式,不仅压缩了一定的数据空间,同时也具有可读性\n3、 protobuf是后起之秀,是谷歌开源的一种数据格式,适合高性能,对响应速度有要求的数据传输场景。因为\nprofobuf是二进制数据格式,需要编码和解码。数据本身不具有可读性。因此只能反序列化之后得到真正可读的数\n据")]),s._v(" "),n("p",[n("strong",[s._v("相对于其它 protobu更具有优势")]),s._v("\n1:序列化后体积相比son和XML很小,适合网络传输\n2:支持跨平台多语言\n3:消息格式升级和兼容性还不错\n4:序列化反序列化速度很快,快于son的处理速速")]),s._v(" "),n("h3",{attrs:{id:"protobuf安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#protobuf安装"}},[s._v("#")]),s._v(" protobuf安装")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/protocolbuffers/protobuf\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" autoconf automake libtool "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" g++ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" libffi-dev -y\n./autogen.sh\n./configure\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" ldconfig\nprotoc -h\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("获取proto包")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("// 设置国内代理\ngo "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" -w "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOPROXY")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://goproxy.cn,direct\ngo get -v -u github.com/golang/protobuf/proto\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("安装protoc-gen-go插件")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("go get -v -u github.com/golang/protobuf/protoc-gen-go\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])}),[],!1,null,null,null);t.default=o.exports}}]);